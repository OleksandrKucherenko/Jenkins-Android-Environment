<?xml version="1.0" encoding="UTF-8"?>
<project name="{project-name}" default="help">
  <echo>Custom Rules: Javadoc Tool</echo>
   <echo>-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=</echo>
  <echo>Available Targets:</echo>
  <echo>  javadoc:</echo>
  <echo>    Execute JavaDoc tool on project.</echo>
  <echo>-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=</echo>

  <!-- quick check on sdk.dir & tools.dir -->
  <fail message="sdk.dir is missing." unless="sdk.dir" />
  <fail message="tools.dir is missing." unless="tools.dir" />
   
  <target name="javadoc">
    <echo>Resolving Build Target for ${ant.project.name}...</echo>
    <!-- load project properties, resolve Android target, library dependencies
	  and set some properties with the results.
	  All property names are passed as parameters ending in -Out -->
    <gettarget
	    androidJarFileOut="project.target.android.jar"
	    androidAidlFileOut="project.target.framework.aidl"
	    bootClassPathOut="project.target.class.path"
	    targetApiOut="project.target.apilevel"
	    minSdkVersionOut="project.minSdkVersion" />
    
    <echo>Resolving Dependencies for ${ant.project.name}...</echo>
    <dependency
	    libraryFolderPathOut="project.library.folder.path"
	    libraryPackagesOut="project.library.packages"
	    libraryManifestFilePathOut="project.library.manifest.file.path"
	    libraryResFolderPathOut="project.library.res.folder.path"
	    libraryBinAidlFolderPathOut="project.library.bin.aidl.folder.path"
	    libraryRFilePathOut="project.library.bin.r.file.path"
	    libraryNativeFolderPathOut="project.library.native.folder.path"
	    jarLibraryPathOut="project.all.jars.path"
	    targetApi="${project.target.apilevel}"
	    renderscriptSupportMode="${renderscript.support.mode}"
	    buildToolsFolder="${android.build.tools.dir}"
	    renderscriptSupportLibsOut="project.rs.support.libs.path"
	    verbose="${verbose}" /> 
    
    <path id="jar.libs.ref">
      <fileset dir="${jar.libs.absolute.dir}" includes="*.jar" />
    </path>
    
    <javadoc defaultexcludes="yes"
             destdir="javadocs"
             author="true"
             version="true"
             use="true"
             windowtitle="${manifest.project.name} Javadoc"
             classpathref="jar.libs.ref"
             bootclasspathref="project.target.class.path">
      <sourcepath location="${source.absolute.dir}" />
      <classpath path="${out.classes.absolute.dir}" />

      <doctitle>
        <![CDATA[<h1>${manifest.project.name}</h1>]]></doctitle>
      <bottom>
        <![CDATA[<i>Copyright &#169; 2014 {project-name}. All Rights Reserved.</i>]]></bottom>
      <tag name="todo" scope="all" description="To do:" />
      <link offline="true"
            href="http://java.sun.com/javase/6/docs/api/"
            packagelistLoc="/tmp" />
      <link href="http://docs.oracle.com/javase/1.5.0/docs/api/" />
      <link offline="true"
            href="http://developer.android.com/reference/"
            packagelistloc="${sdk.dir}/docs/reference" />
    </javadoc>  
  </target>
</project>